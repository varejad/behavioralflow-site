<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Treinando meu agente</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <nav>
    <a href="index.html">Simulação</a>
    <a href="sobre.html">Sobre o Projeto</a>
    <a href="treine.html" class="active">Treine seu Agente</a>
  </nav>

  <h1>Treine seu Agente</h1>

  <main>
    <!-- O canvas será inserido aqui -->
  </main>

  <!-- Scripts externos: carregam primeiro -->
  <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>

  <!-- Seu código -->
  <script>
    async function init() {
      const pyodide = await loadPyodide();

      try {
        const code = `

agents = [{"x": 100, "y": 150, "color": "red"}]
        `;
        await pyodide.runPythonAsync(code);
      } catch (err) {
        console.error("Erro ao rodar código Python:", err);
      }

      // Carrega o sketch do p5.js
      //const script = document.createElement("script");
      //script.src = "treine-sketch.js";
      //document.body.appendChild(script);

      // Torna acessível no escopo global
      window.pyodide = pyodide;
    }

    init();
  </script>
  <script src="treine-sketch.js"></script>
</body>
</html>
